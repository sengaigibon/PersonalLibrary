{% extends 'base.html.twig' %}

{% block title %}Dashboard - RR: The Reading Record{% endblock %}

{% block body %}

<div class="dashboard-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <h3>Menu</h3>

        {% if app.session.get('current_reader') %}
            <span class="menu-item-no-hover">Welcome, {{ app.session.get('current_reader').nickname }}!</span>
        {% endif %}

        <a href="{{ path('app_dashboard') }}" class="menu-item {% if currentPage == 'dashboard' %}active{% endif %}">
            ðŸ“Š Dashboard
        </a>

        <a href="{{ path('app_dashboard_books') }}" class="menu-item {% if currentPage == 'books' %}active{% endif %}">
            ðŸ“š Library
        </a>

        <a href="{{ path('app_dashboard_reading_log') }}" class="menu-item {% if currentPage == 'reading_log' %}active{% endif %}">
            ðŸ“– Reading Log
        </a>

        <a href="{{ path('app_main') }}" class="menu-item" style="margin-top: auto; border-top: 1px solid #34495e; padding-top: 15px;">
            ðŸšª Exit
        </a>
    </div>

    <!-- Content Area -->
    <div class="content-area">
        <!-- Flash Messages -->
        {% for type, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ type == 'error' ? 'danger' : type }} alert-dismissible fade show auto-fade" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <script src="{{ asset('scripts/flash-messages.js') }}"></script>

        {% if currentPage == 'dashboard' %}
            {% include 'dashboard/dashboard.html.twig' %}
        {% elseif currentPage == 'books' %}
            {% include 'book/index.html.twig' %}
        {% elseif currentPage == 'new-book' %}
            {% include 'book/new.html.twig' %}
        {% elseif currentPage == 'show-book' %}
            {% include 'book/show.html.twig' %}
        {% elseif currentPage == 'edit-book' %}
            {% include 'book/edit.html.twig' %}

        {% elseif currentPage == 'logs' %}
            {% include 'log/index.html.twig' %}
        {% elseif currentPage == 'new-log' %}
            {% include 'log/new.html.twig' %}
        {% elseif currentPage == 'show-log' %}
            {% include 'log/show.html.twig' %}
        {% elseif currentPage == 'edit-log' %}
            {% include 'log/edit.html.twig' %}

        {% endif %}
    </div>
</div>
{% endblock %}
